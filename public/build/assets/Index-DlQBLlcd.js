import{r,j as t,L as w,$ as N,S as i}from"./app-CMgd9CFO.js";import{D as A,S as T}from"./data-table-xUmWQZ0y.js";import{A as E,D as L,a as P,b as I,c}from"./app-layout-BIPqPh_6.js";import{E as M}from"./card-BE3_cUCb.js";import{T as R}from"./trash-2-BeWJk30g.js";import"./createLucideIcon-7qGfDxei.js";import"./button-Daq97pcb.js";import"./index-BCYOheS7.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./input-HZKsKJ3U.js";import"./select-Cn37e-WD.js";import"./index-BuHSMQr-.js";import"./index-Dws4ymEe.js";import"./index-CVIgW6Jv.js";import"./index-tFwqN7HY.js";import"./index-DqV8gE2B.js";import"./check-D-GLxgsM.js";import"./plus-CceXe7IT.js";import"./x-BWEyVoTj.js";import"./index-gfCreU1N.js";import"./user-BaUwBdqr.js";import"./chevron-right-NGM6CfF9.js";const V=[{title:"Customers",href:"/admin/customers"}];function ne({customers:s}){const u=e=>{confirm("Are you sure you want to delete this Customer? The data round the customer will also be deleted.")&&i.delete(route("customers.destroy",e),{onSuccess:()=>{},onError:()=>{}})},d=[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0,render:e=>t.jsx(N,{href:route("customers.edit",e.id),className:"font-medium hover:underline",children:e.name})},{key:"phone",label:"Phone",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"address",label:"Address",sortable:!0},{key:"city",label:"City",sortable:!0},{key:"country",label:"Country",sortable:!0},{key:"postalCode",label:"PostalCode",sortable:!0},{key:"vat",label:"VAT",sortable:!0},{key:"isActive",label:"IsActive",sortable:!0},{key:"action",label:"Action",sortable:!1,render:e=>t.jsxs(L,{children:[t.jsx(P,{asChild:!0,children:t.jsx("button",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 w-8 p-0",children:t.jsx(M,{className:"h-4 w-4"})})}),t.jsxs(I,{align:"end",children:[t.jsxs(c,{onClick:()=>i.visit(`/admin/customers/${e.id}/edit`),children:[t.jsx(T,{className:"h-4 w-4"}),"Edit"]}),t.jsxs(c,{onClick:()=>u(e.id),className:"text-red-600",children:[t.jsx(R,{className:"h-4 w-4"}),"Delete"]})]})]})}],[m,p]=r.useState(s.current_page||1),[h,b]=r.useState("id"),[f,x]=r.useState("asc"),[g,y]=r.useState(""),[S,a]=r.useState(!1),n=r.useRef(null),l=({page:e=1,sort:o="id",direction:k="asc",search:D=""})=>{a(!0),console.log(e),i.get(route("customers.index",{page:e,sort:o,direction:k,search:D}),{},{preserveState:!0,preserveScroll:!0,replace:!0,onStart:()=>a(!0),onFinish:()=>a(!1),only:["customers"]})},j=e=>{p(e),l({page:e})},C=(e,o)=>{b(e),x(o),l({sort:e,direction:o})},v=e=>{y(e),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{l({search:e})},700)};return t.jsxs(E,{breadcrumbs:V,children:[t.jsx(w,{title:"Customers"}),t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:t.jsx(A,{columns:d,data:s.data,total:s.total,page:m,perPage:s.per_page,onPageChange:j,onSortChange:C,sortKey:h,sortDirection:f,onSearch:v,searchValue:g,loading:S,ButtonLink:"/admin/customers/create",ButtonLabel:"New Customer"})})]})}export{ne as default};
