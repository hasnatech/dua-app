import{r as i,j as e,L as x,$ as h}from"./app-BUw5efNL.js";import{P as p}from"./PublicLayout-DGHqzL5k.js";function j({videos:a}){const[s,m]=i.useState("all"),[l,c]=i.useState(null),n=i.useMemo(()=>s==="all"?a:s==="audio"?a.filter(t=>t.type==="audio"):a.filter(t=>t.type!=="audio"),[a,s]),o=t=>{if(t.thumbnail)return t.thumbnail;if(t.type==="youtube"){const r=t.url.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/);if(r)return`https://img.youtube.com/vi/${r[1]}/mqdefault.jpg`}return null},u=t=>{c(t)},d=()=>{c(null)};return e.jsxs(p,{children:[e.jsx(x,{title:"Media Library"}),e.jsxs("div",{className:"min-h-screen pb-20 bg-slate-50",children:[e.jsxs("header",{className:"bg-emerald-800 text-white pt-10 pb-6 px-6 rounded-b-[2.5rem] shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 pointer-events-none",children:e.jsx("i",{className:"fas fa-play-circle text-9xl"})}),e.jsxs("div",{className:"flex items-center mb-6 relative z-10",children:[e.jsx(h,{href:route("home"),className:"mr-4 w-8 h-8 rounded-full bg-emerald-700 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-arrow-left"})}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Media Library"})]}),e.jsx("div",{className:"flex p-1 bg-emerald-900/40 rounded-xl backdrop-blur-sm relative z-10",children:["all","video","audio"].map(t=>e.jsx("button",{onClick:()=>m(t),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${s===t?"bg-white text-emerald-800 shadow-sm":"text-emerald-100 hover:bg-emerald-700/50"}`,children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]}),e.jsx("main",{className:"px-5 mt-6 space-y-4",children:n.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.map(t=>e.jsxs("div",{onClick:()=>u(t),className:"bg-white p-3 rounded-2xl shadow-sm border border-slate-100 cursor-pointer hover:border-emerald-200 transition-all active:scale-[0.98]",children:[e.jsxs("div",{className:"relative aspect-video rounded-xl bg-slate-100 overflow-hidden mb-3 group",children:[o(t)?e.jsx("img",{src:o(t),alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:e.jsx("i",{className:`fas fa-${t.type==="audio"?"music":"video"} text-3xl`})}),e.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center group-hover:bg-black/30 transition-all",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/90 flex items-center justify-center text-emerald-600 shadow-lg",children:e.jsx("i",{className:`fas fa-${t.type==="audio","play"} ml-0.5`})})}),e.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-0.5 bg-black/60 rounded text-[10px] font-bold text-white backdrop-blur-md uppercase",children:t.type})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-700 leading-snug line-clamp-2 mb-1",children:t.title}),t.description&&e.jsx("p",{className:"text-xs text-slate-400 line-clamp-1",children:t.description})]})]},t.id))}):e.jsxs("div",{className:"py-20 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-4 border border-slate-100",children:e.jsx("i",{className:"fas fa-film text-slate-200 text-2xl"})}),e.jsxs("p",{className:"text-slate-400 text-sm font-medium",children:['No media found for "',s,'"']})]})}),l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",onClick:d,children:e.jsxs("div",{className:"w-full max-w-3xl bg-black rounded-2xl overflow-hidden relative shadow-2xl",onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:d,className:"absolute top-4 right-4 z-10 w-8 h-8 rounded-full bg-black/50 text-white flex items-center justify-center hover:bg-black/70 transition-colors",children:e.jsx("i",{className:"fas fa-times"})}),e.jsxs("div",{className:"aspect-video w-full bg-black flex items-center justify-center",children:[l.type==="youtube"&&(()=>{const t=l.url.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/),r=t?t[1]:"";return e.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${r}?autoplay=1&rel=0&modestbranding=1`,title:l.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})(),l.type==="instagram"&&e.jsxs("div",{className:"text-white text-center p-8",children:[e.jsx("p",{className:"mb-4",children:"Instagram embeds require external script loading which might be blocked."}),e.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-emerald-600 text-white px-6 py-2 rounded-full font-bold",children:"Open in Instagram"})]}),(l.type==="video"||l.type==="audio")&&e.jsx("video",{src:l.url,controls:!0,autoPlay:!0,className:"w-full h-full",poster:l.thumbnail||void 0,children:"Your browser does not support the video tag."})]}),e.jsxs("div",{className:"p-4 bg-slate-900 text-white",children:[e.jsx("h3",{className:"font-bold text-lg",children:l.title}),l.description&&e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:l.description})]})]})})]})]})}export{j as default};
