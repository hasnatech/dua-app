import{r as n,j as e,L as g,S as N}from"./app-DBz8tezP.js";import{P as v}from"./PublicLayout-DqNZfyq6.js";import{i as E,t as B,g as C}from"./storage-DaqOo9ou.js";const D=({dua:t,categoryName:o})=>{const[i,c]=n.useState(!1);n.useEffect(()=>{c(E(t.id))},[t.id]);const a=()=>{B(t.id),c(!i)};return e.jsx("div",{className:"flex flex-col h-full w-full bg-white text-slate-900 relative",children:e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 pt-6 pb-24",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1 text-center pl-8",children:[e.jsx("span",{className:"text-emerald-600 font-semibold text-xs uppercase tracking-widest",children:o}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mt-2 leading-tight",children:t.title})]}),e.jsx("button",{onClick:a,className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 transition-all ${i?"bg-amber-100 text-amber-600 shadow-inner":"bg-slate-50 text-slate-300 hover:text-slate-400"}`,children:e.jsx("i",{className:`fa-bookmark ${i?"fas":"far"} text-lg`})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-emerald-50/40 rounded-3xl p-8 text-center border border-emerald-50 shadow-sm",children:e.jsx("p",{className:"font-arabic text-4xl leading-[2] text-slate-900 dir-rtl",dir:"rtl",children:t.arabic})}),t.transliteration&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Transliteration"}),e.jsx("p",{className:"text-slate-600 italic leading-relaxed text-lg",children:t.transliteration})]}),t.translation&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Translation"}),e.jsx("p",{className:"text-slate-800 font-medium leading-relaxed text-lg",children:t.translation})]}),t.translation_tamil&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Tamil Translation"}),e.jsx("p",{className:"text-slate-800 font-medium leading-relaxed text-lg",children:t.translation_tamil})]}),t.when&&e.jsxs("div",{className:"flex gap-3 items-start bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[e.jsx("div",{className:"w-6 h-6 mt-0.5 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center shrink-0",children:e.jsx("i",{className:"fas fa-clock text-[10px]"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest mb-1",children:"When to Recite"}),e.jsx("p",{className:"text-slate-700 text-sm leading-relaxed",children:t.when})]})]}),(t.benefits||t.reference)&&e.jsxs("div",{className:"bg-slate-50/50 rounded-2xl p-5 border border-slate-100 space-y-4",children:[t.benefits&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center shrink-0",children:e.jsx("i",{className:"fas fa-heart text-[10px]"})}),e.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed",children:[e.jsx("span",{className:"font-bold",children:"Benefit:"})," ",t.benefits]})]}),t.reference&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 text-slate-500 flex items-center justify-center shrink-0",children:e.jsx("i",{className:"fas fa-book text-[10px]"})}),e.jsxs("p",{className:"text-xs text-slate-500 italic",children:["Source: ",t.reference]})]})]})]})]})})},R=({initialCategories:t,initialCategoryId:o,initialDuaId:i})=>{const{category:c,duas:a}=n.useMemo(()=>{if(o==="bookmarks"){const r=C(),x=t.flatMap(h=>h.duas).filter(h=>r.includes(h.id));return{category:{id:"bookmarks",name:"Bookmarked Duas",color:"bg-amber-500"},duas:x}}const s=t.find(r=>r.id==Number(o));return{category:s,duas:(s==null?void 0:s.duas)||[]}},[o,t]),m=n.useMemo(()=>{if(!i||!a)return 0;const s=a.findIndex(r=>r.id==Number(i));return s!==-1?s:0},[a,i]),[l,d]=n.useState(m);n.useEffect(()=>{d(m)},[m]);const[f,w]=n.useState(null),[u,b]=n.useState(null),k=50;if(!c||a.length===0)return e.jsxs(v,{children:[e.jsx(g,{title:"Empty Collection"}),e.jsxs("div",{className:"h-screen flex flex-col items-center justify-center p-8 bg-slate-50",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl shadow-sm border border-slate-100 flex items-center justify-center mb-6",children:e.jsx("i",{className:"fas fa-heart-broken text-slate-200 text-3xl"})}),e.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:"Collection Empty"}),e.jsx("p",{className:"text-slate-500 text-sm text-center mb-8",children:"You haven't bookmarked any supplications yet."}),e.jsx("button",{onClick:()=>N.visit(route("home")),className:"bg-emerald-600 text-white px-8 py-3 rounded-2xl font-bold shadow-lg shadow-emerald-200 active:scale-95 transition-transform",children:"Explore Categories"})]})]});const y=s=>{b(null),w(s.targetTouches[0].clientX)},T=s=>{b(s.targetTouches[0].clientX)},S=()=>{if(!f||!u)return;const s=f-u,r=s>k,p=s<-50;r&&l<a.length-1?d(x=>x+1):p&&l>0&&d(x=>x-1)},j=a[l];return e.jsxs(v,{children:[e.jsx(g,{title:c.name}),e.jsxs("div",{className:"h-screen flex flex-col bg-white overflow-hidden relative",onTouchStart:y,onTouchMove:T,onTouchEnd:S,children:[e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between z-10 bg-white border-b border-slate-50",children:[e.jsx("button",{onClick:()=>N.visit(route("home")),className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-600 rounded-full active:bg-slate-50 transition-colors",children:e.jsx("i",{className:"fas fa-chevron-left"})}),e.jsx("div",{className:"flex-1 text-center px-4",children:e.jsx("h1",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest truncate",children:c.name})}),e.jsx("button",{className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-600 rounded-full active:bg-slate-50 transition-colors",onClick:()=>{},children:e.jsx("i",{className:"fas fa-share-nodes"})})]}),e.jsx("div",{className:"w-full flex h-1.5 bg-slate-100 gap-1 px-1",children:a.map((s,r)=>e.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${r===l?"flex-[2] bg-emerald-500":"flex-1 bg-slate-200"}`},r))}),e.jsx("div",{className:"flex-1 relative overflow-hidden bg-white",children:e.jsx("div",{className:"absolute inset-0 transition-all duration-300 ease-out",children:e.jsx(D,{dua:j,categoryName:c.name})},j.id)}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white to-transparent pointer-events-none",children:e.jsxs("div",{className:"flex items-center justify-between pointer-events-auto",children:[e.jsx("button",{onClick:()=>l>0&&d(s=>s-1),disabled:l===0,className:`w-12 h-12 rounded-2xl flex items-center justify-center border shadow-sm transition-all ${l===0?"text-slate-200 border-slate-50":"text-slate-600 border-slate-100 bg-white active:scale-90 hover:border-emerald-200"}`,children:e.jsx("i",{className:"fas fa-arrow-left"})}),e.jsxs("div",{className:"bg-slate-900/5 backdrop-blur-md px-4 py-2 rounded-full border border-white/50 text-slate-700 font-bold text-xs tracking-widest shadow-sm",children:[l+1," ",e.jsx("span",{className:"opacity-30 mx-1",children:"/"})," ",a.length]}),e.jsx("button",{onClick:()=>l<a.length-1&&d(s=>s+1),disabled:l===a.length-1,className:`w-12 h-12 rounded-2xl flex items-center justify-center border shadow-sm transition-all ${l===a.length-1?"text-slate-200 border-slate-50":"text-emerald-600 border-emerald-100 bg-emerald-50 active:scale-90 hover:bg-emerald-100"}`,children:e.jsx("i",{className:"fas fa-arrow-right"})})]})})]})]})};export{R as default};
