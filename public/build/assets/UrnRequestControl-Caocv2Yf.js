import{r as v,j as r}from"./app-CMgd9CFO.js";import{F}from"./FormTextarea-C8dEt3Br.js";import{F as N}from"./FormToggle-BYVdoDsU.js";import{S as T}from"./SelectForm-DUiT9NA6.js";import{u as $}from"./useTranslation-Ca9ACeu7.js";import{T as q}from"./trash-2-BeWJk30g.js";import{P as C}from"./plus-CceXe7IT.js";import"./input-error-BII2_NsQ.js";import"./utils-jAU0Cazi.js";import"./label-Dtgay8E_.js";import"./index-tFwqN7HY.js";import"./index-BuHSMQr-.js";import"./index-BCYOheS7.js";import"./select-Cn37e-WD.js";import"./index-Dws4ymEe.js";import"./index-CVIgW6Jv.js";import"./index-DqV8gE2B.js";import"./createLucideIcon-7qGfDxei.js";import"./check-D-GLxgsM.js";const M=({label:m,name:s,value:i,urnOrder:u,onChangeToggle:h,URN_SUPPLIER_OPTIONS:b,onChange:a})=>{const{t:p}=$(),[d,g]=v.useState(u??!1),x=t=>{g(t),t?i.length===0&&a(s,[{enabled:!0,quantity:1,description:""}]):a(s,[]),h(t)},y=()=>{const t=[...i,{enabled:!0,quantity:1,description:""}];a(s,t)},f=t=>{const e=i.filter((o,l)=>l!==t);a(s,e)},c=(t,e,o)=>{const l=i.map((n,j)=>j===t?{...n,[e]:o}:n);a(s,l)};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(N,{label:m,name:s,checked:d,onChange:t=>x(t.target.checked)}),d&&r.jsxs("div",{className:"space-y-4 border-l-2 border-primary/40 pl-4",children:[i.map((t,e)=>r.jsxs("div",{className:"group relative grid grid-cols-1 items-start gap-4 md:grid-cols-3",children:[r.jsx(T,{label:p("supplier"),options:b,value:t.select,onValueChange:o=>c(e,"select",o)}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(F,{label:p("details"),id:`${s}-description-${e}`,name:`${s}-description-${e}`,value:t.description??"",onChange:o=>c(e,"description",o.target.value),rows:2})}),r.jsx("button",{type:"button",onClick:()=>f(e),className:"absolute -top-2 -right-2 rounded-full p-1 text-primary opacity-0 group-hover:opacity-100 hover:bg-red-100",title:"Delete this entry",children:r.jsx(q,{size:16})})]},e)),r.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-2 rounded-lg border border-dashed border-primary px-4 py-2 text-xs text-primary hover:bg-primary/10",children:[r.jsx(C,{size:14})," ",p("addAnother")]})]})]})};export{M as default};
