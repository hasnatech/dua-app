import{r as n,b as T,j as e}from"./app-CMgd9CFO.js";import{STATUS_CONFIG as D}from"./constant-C0FE7K3f.js";import{P as I}from"./types-BJro-4LP.js";import{P as E,m as p}from"./renderers-BwbMJDu8.js";import{X as O}from"./x-BWEyVoTj.js";import"./paw-print-D0UC6vtx.js";import"./createLucideIcon-7qGfDxei.js";import"./library-E2nNABdg.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./index-BuHSMQr-.js";import"./send-CvqZSALe.js";import"./check-D-GLxgsM.js";import"./circle-check-_zxMHciY.js";Object.values(I);const t=({label:s,value:a})=>a==null?null:e.jsxs("div",{className:"mb-4 break-inside-avoid",children:[e.jsx("p",{className:"text-active text-xs font-semibold tracking-wider uppercase",children:s}),e.jsx("p",{className:"text-sm text-primary",children:String(a)})]}),r=({label:s,request:a})=>!a||!a.enabled?null:e.jsxs("div",{className:"mb-4 break-inside-avoid",children:[e.jsxs("p",{className:"text-active text-xs font-semibold tracking-wider uppercase",children:[s,a.quantity>0&&e.jsxs(e.Fragment,{children:[" (x",a.quantity,")"]})]}),e.jsxs("div",{className:"space-y-1 text-sm text-primary",children:[a.datetime&&e.jsxs("p",{children:[e.jsx("b",{children:"Date:"})," ",new Date(a.datetime).toLocaleString()]}),a.disc!==null&&a.disc>0&&e.jsxs("p",{children:["Disc: ",a.disc]}),a.urn!==null&&a.urn>0&&e.jsxs("p",{children:["Urn: ",a.urn]}),e.jsx("p",{children:a.description??"No details provided."})]})]}),B=({pet:s,onClose:a,onUpdatePet:C,shouldPrint:x,onPrintComplete:d})=>{var u,b,j;n.useEffect(()=>{T.get(route("masters.getMasterData")).then(i=>{f(i.data)}).catch(i=>{console.error("Error fetching master data:",i)})},[s]),n.useEffect(()=>{if(x){const i=setTimeout(()=>{window.print(),d&&d(),a()},500);return()=>clearTimeout(i)}},[x,d,a]);const v=()=>{window.print()},[c,f]=n.useState(null),[N,R]=n.useState("info"),[_,g]=n.useState(s.status),[q,P]=n.useState(""),[U,y]=n.useState(!1);n.useEffect(()=>{g(s.status),P(""),y(!1)},[s]);const S=({label:i,pet:l})=>l.urnOrder?e.jsxs("div",{className:"mb-4 break-inside-avoid",children:[e.jsx("p",{className:"text-active text-xs font-semibold tracking-wider uppercase",children:i}),e.jsxs("div",{className:"space-y-1 text-sm text-primary",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Supplier:"})," ",o(c,"URN_SUPPLIER_OPTIONS",l.urnSupplier)??"No details provided."]}),e.jsxs("p",{children:[e.jsx("b",{children:"Details:"})," ",l.urnDetails]})]})]}):null,w=({label:i,item:l})=>l?e.jsxs("div",{className:"mb-4 break-inside-avoid",children:[e.jsx("p",{className:"text-active text-xs font-semibold tracking-wider uppercase",children:i}),e.jsxs("div",{className:"space-y-1 text-sm text-primary",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Supplier:"})," ",o(c,"JEWELLERY_SUPPLIER_OPTIONS",l.select)??"No details provided."]}),e.jsxs("p",{children:[e.jsx("b",{children:"Details:"})," ",l.details]})]})]}):null,o=(i,l,m)=>{if(!i||!i[l]||!m)return null;const h=i[l].find(k=>k.id.toString()===m.toString());return h?h.name:null};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-fade-in no-print-in-sidebar fixed inset-0 z-40 bg-black/30 transition-opacity duration-300",onClick:a,"aria-hidden":"true"}),e.jsxs("aside",{className:"printable-content fixed top-0 right-0 z-50 flex h-full w-full max-w-lg translate-x-0 transform flex-col bg-white shadow-2xl transition-transform duration-300 ease-in-out",role:"dialog","aria-labelledby":"sidebar-title",children:[e.jsxs("header",{className:"flex flex-shrink-0 items-center justify-between border-b border-border bg-primary/5 p-4",children:[e.jsxs("h2",{id:"sidebar-title",className:"text-lg font-bold text-primary",children:["Cremation Details: ",s.sequenceId]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:v,className:"hover:bg-panel no-print-in-sidebar rounded-full p-2","aria-label":"Print details",title:"Print",children:e.jsx(E,{className:"text-active h-6 w-6"})}),e.jsx("button",{onClick:a,className:"hover:bg-panel no-print-in-sidebar rounded-full p-2","aria-label":"Close details panel",children:e.jsx(O,{className:"text-active h-6 w-6"})})]})]}),N==="info"&&e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",role:"tabpanel",children:[e.jsxs("div",{className:"mb-6 flex break-inside-avoid justify-between gap-3 rounded-lg border border-primary/40 bg-primary/10 p-4",children:[e.jsxs("div",{className:"",children:[e.jsxs("h3",{className:"text-lg font-bold text-primary",children:[s.name," (",s.breed,")"]}),e.jsxs("p",{className:"text-active font-mono text-sm",children:["Sequence ID: ",s.petNumber]}),e.jsx("p",{className:"text-active font-mono text-sm",children:"Tag Number: 7897899754"}),e.jsx("div",{className:`mt-2 inline-block rounded-full px-3 py-1 text-xs font-semibold ${((b=D[((u=p)==null?void 0:u(s.status))||s.status])==null?void 0:b.color)||"bg-slate-100 text-slate-800"}`,children:((j=p)==null?void 0:j(s.status))??s.status})]}),e.jsx("div",{className:"mt-2 text-right",children:e.jsx(t,{label:"Date",value:s.date})})]}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h4",{className:"text-active mb-3 border-b pb-2 font-bold",children:"Pet Information"}),e.jsx(t,{label:"Gender",value:o(c,"GENDER_OPTIONS",s.gender)||s.gender}),e.jsx(t,{label:"Type",value:o(c,"PET_TYPE_OPTIONS",s.type)||s.type}),e.jsx(t,{label:"Age",value:`${s.age} years`}),e.jsx(t,{label:"Weight",value:`${s.weight} kg`}),e.jsx(t,{label:"Date of Death",value:s.dateOfDeath}),s.hasProstheses&&e.jsx(t,{label:"Prostheses",value:s.prosthesesDetails})]}),e.jsxs("section",{className:"mb-6",children:[e.jsx("h4",{className:"text-active mt-6 mb-3 border-b pb-2 font-bold",children:"Client Information"}),e.jsx(t,{label:"Name",value:s.customer.name}),e.jsx(t,{label:"Phone",value:s.customer.phone}),e.jsx(t,{label:"Email",value:s.customer.email}),e.jsx(t,{label:"Address",value:s.customer.address&&`${s.customer.address}, ${s.customer.city}, ${s.customer.postalCode}`}),e.jsx(t,{label:"Pickup/Delivery",value:o(c,"PICKUP_METHOD_OPTIONS",s.pickupMethod)||s.pickupMethod}),e.jsx(t,{label:"Price",value:s.price?`â‚¬${Number(s.price).toFixed(2)}`:"Not set"}),e.jsx(t,{label:"Client Notes",value:s.clientNotes})]}),e.jsxs("section",{children:[e.jsx("h4",{className:"text-active mt-6 mb-3 border-b pb-2 font-bold",children:"Cremation & Pickup"}),e.jsx(t,{label:"Cremation Type",value:s.cremationType}),e.jsx(t,{label:"Ceremony",value:s.ceremony}),s.isSundayOrFestival!=0&&e.jsx(t,{label:"Sunday/Festival Pickup",value:"Yes"}),e.jsx(S,{label:"Urn",pet:s}),e.jsx(w,{label:"Jewelry",item:s.jewelry}),e.jsx(r,{label:"Engraving",request:s.engraving}),e.jsx(r,{label:"Other",request:s.others})]}),e.jsxs("section",{className:"mt-6 border-t pt-6 ",children:[e.jsx(r,{label:"Paw Print (Ink)",request:s.specialRequestPawPrintInk}),e.jsx(r,{label:"Hair Pluck",request:s.specialRequestHairPluck}),e.jsx(r,{label:"Other Request",request:s.specialRequestOther}),e.jsx(r,{label:"Paw Print (Clay)",request:s.specialRequestPawPrintClay}),e.jsx(r,{label:"Nose Imprint",request:s.specialRequestNoseImprint}),e.jsx(r,{label:"Others 2",request:s.others2}),e.jsx(r,{label:"Opbaring",request:s.lastViewing}),e.jsx(r,{label:"Following",request:s.following}),e.jsx(t,{label:"Agreed Pickup Date/Time",value:s.pickupDateTime?new Date(s.pickupDateTime).toLocaleString():"Not set"}),e.jsx(t,{label:"Evening Pickup",value:o(c,"EVENING_PICKUP_OPTIONS",s.pickupEveningTime)||s.pickupEveningTime})]})]})]})]})};export{B as default};
