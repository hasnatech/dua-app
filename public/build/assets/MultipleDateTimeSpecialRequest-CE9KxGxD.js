import{j as a}from"./app-CMgd9CFO.js";import{F as j}from"./FormInput-BeAaVg57.js";import{F}from"./FormTextarea-C8dEt3Br.js";import{F as N}from"./FormToggle-BYVdoDsU.js";import{u as T}from"./useTranslation-Ca9ACeu7.js";import{T as x}from"./trash-2-BeWJk30g.js";import{P as S}from"./plus-CceXe7IT.js";import"./input-error-BII2_NsQ.js";import"./utils-jAU0Cazi.js";import"./createLucideIcon-7qGfDxei.js";function M(o){const t=o instanceof Date?o:typeof o=="string"&&o?new Date(o):null;if(!(t instanceof Date)||Number.isNaN(t.getTime()))return"";const r=i=>i.toString().padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}`}function k(o){const t=o instanceof Date?o:typeof o=="string"&&o?new Date(o):null;if(!(t instanceof Date)||Number.isNaN(t.getTime()))return"";const r=i=>i.toString().padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}`}const H=({label:o,name:t,value:r,type:i,max:d=5,enabled:m,onToggle:f,onChange:p})=>{const{t:l}=T(),h=e=>{f(e),e&&r.length===0&&p(t,[{enabled:!0,datetime:"",description:""}])},b=()=>{if(d&&r.length>=d)return;const e=[...r,{enabled:!0,datetime:"",description:""}];p(t,e)},$=e=>{const s=r.filter((n,c)=>c!==e);p(t,s)},g=(e,s,n)=>{const c=r.map((u,D)=>D===e?{...u,[s]:n}:u);p(t,c)},y=e=>e.datetime?i==="datetime-local"?M(e.datetime):k(e.datetime):"";return a.jsxs("div",{className:"space-y-4",children:[a.jsx(N,{label:o,name:t,checked:m,onChange:e=>h(e.target.checked)}),m&&a.jsxs("div",{className:"space-y-4 border-l-2 border-primary/40 pl-4",children:[r.map((e,s)=>a.jsxs("div",{className:"group relative grid grid-cols-1 items-start gap-4 md:grid-cols-2",children:[a.jsx(j,{label:l("dateAndTime"),id:`${t}-datetime-${s}`,name:`${t}-datetime-${s}`,type:i??"date",value:y(e),onChange:n=>g(s,"datetime",n.target.value)}),a.jsx(F,{label:l("details"),id:`${t}-description-${s}`,name:`${t}-description-${s}`,value:e.description??"",onChange:n=>g(s,"description",n.target.value),rows:2}),a.jsx("button",{type:"button",onClick:()=>$(s),className:"absolute -top-2 -right-2 rounded-full p-1 text-primary opacity-0 group-hover:opacity-100 hover:bg-red-100",title:"Delete this entry",children:a.jsx(x,{size:16})})]},s)),(!d||r.length<d)&&a.jsxs("button",{type:"button",onClick:b,className:"flex items-center gap-2 rounded-lg border border-dashed border-primary px-4 py-2 text-xs text-primary hover:bg-primary/10",children:[a.jsx(S,{size:14})," ",l("addAnother")]})]})]})};export{H as default};
