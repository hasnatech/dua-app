import{m as p,r as h,j as e,L as f,$ as b}from"./app-BUw5efNL.js";import{A as g}from"./app-layout-HPNpjesi.js";import"./button-nwxKds3C.js";import"./utils-jAU0Cazi.js";import"./index-zvbNVQV_.js";import"./createLucideIcon-BfV0-dBH.js";import"./index-BTrZ8Md4.js";import"./index-CbeMzvfU.js";import"./message-square-BNxlLSC8.js";function L({video:r}){const{data:s,setData:a,post:n,processing:d,errors:l}=p({_method:"PUT",title:r.title,type:r.type,url:r.url,file:null,thumbnail:null,description:r.description||""}),[m,c]=h.useState(r.thumbnail),u=t=>{t.preventDefault(),n(route("admin.videos.update",r.id))},x=t=>{var o;const i=(o=t.target.files)==null?void 0:o[0];i&&(a("thumbnail",i),c(URL.createObjectURL(i)))};return e.jsxs(g,{breadcrumbs:[{title:"Videos",href:route("admin.videos.index")},{title:"Edit Media",href:"#"}],children:[e.jsx(f,{title:"Edit Media"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:u,className:"p-6 text-gray-900 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium text-sm text-gray-700",children:"Title"}),e.jsx("input",{type:"text",className:"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500 rounded-md shadow-sm mt-1 block w-full",value:s.title,onChange:t=>a("title",t.target.value),required:!0}),l.title&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium text-sm text-gray-700",children:"Type"}),e.jsxs("select",{className:"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500 rounded-md shadow-sm mt-1 block w-full",value:s.type,onChange:t=>a("type",t.target.value),children:[e.jsx("option",{value:"youtube",children:"YouTube"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"video",children:"Upload Video (MP4)"}),e.jsx("option",{value:"audio",children:"Upload Audio (MP3/WAV)"})]}),l.type&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.type})]}),["youtube","instagram"].includes(s.type)?e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium text-sm text-gray-700",children:s.type==="youtube"?"YouTube URL":"Instagram URL"}),e.jsx("input",{type:"url",className:"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500 rounded-md shadow-sm mt-1 block w-full",value:s.url,onChange:t=>a("url",t.target.value),placeholder:s.type==="youtube"?"https://youtube.com/watch?v=...":"https://instagram.com/p/...",required:!0}),l.url&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.url})]}):e.jsxs("div",{children:[e.jsxs("label",{className:"block font-medium text-sm text-gray-700",children:["Upload File (",s.type==="video"?"MP4":"MP3, WAV",")"]}),e.jsxs("div",{className:"mt-1 flex flex-col gap-2",children:[r.url&&!s.file&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Current file: ",e.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 hover:underline",children:"View Current File"})]}),e.jsx("input",{type:"file",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100",onChange:t=>{var i;return a("file",((i=t.target.files)==null?void 0:i[0])||null)},accept:s.type==="video"?"video/mp4":"audio/*"})]}),l.file&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.file})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium text-sm text-gray-700",children:"Thumbnail (Optional)"}),e.jsx("div",{className:"mt-1 flex items-center gap-4",children:e.jsx("input",{type:"file",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100",onChange:x,accept:"image/*"})}),m&&e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[e.jsx("p",{className:"mb-1",children:"Preview:"}),e.jsx("img",{src:m,alt:"Thumbnail preview",className:"h-24 w-auto rounded border"})]}),l.thumbnail&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.thumbnail})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium text-sm text-gray-700",children:"Description"}),e.jsx("textarea",{className:"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500 rounded-md shadow-sm mt-1 block w-full h-24",value:s.description,onChange:t=>a("description",t.target.value)}),l.description&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.description})]}),e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx(b,{href:route("admin.videos.index"),className:"text-gray-600 hover:text-gray-900 mr-4",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 disabled:opacity-50",disabled:d,children:d?"Saving...":"Update Media"})]})]})})})})]})}export{L as default};
